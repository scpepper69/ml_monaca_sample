<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1, maximum-scale=1, user-scalable=no">
  <meta http-equiv="Content-Security-Policy" content="default-src * data: gap: content: https://ssl.gstatic.com; style-src * 'unsafe-inline'; script-src * 'unsafe-inline' 'unsafe-eval'">
  <script src="components/loader.js"></script>
  <link rel="stylesheet" href="components/loader.css">
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="lib/jquery.mobile-1.4.5/jquery.mobile-1.4.5.min.css">
</head>

<body data-gr-c-s-loaded="true" class="ui-mobile-viewport ui-overlay-a" style="" data-feedly-mini="yes">
  <!-- Start of first page: #one -->
  <div data-role="page" id="one" data-url="one" tabindex="0" class="ui-page ui-page-theme-a ui-page-active" style="">
    <div data-role="header" role="banner" class="ui-header ui-bar-inherit">
      <h1 class="ui-title" role="heading" aria-level="2">AI Robot Prediction</h1>
    </div><!-- /header -->

<!--    <div role="main" class="ui-content" style="background-color:#f8dce0"> -->
    <div role="main" class="ui-content" style="background: url(img/background_shur_60.png);">
      <img border="0" src="img/eye_catch_005.jpg" class="inline-img" width="320" height="320">
      <p><a href="#two" class="ui-btn ui-shadow ui-corner-all ui-btn-icon-left ui-icon-gear">Open Application</a></p>
      <p><a href="#popup" class="ui-btn ui-shadow ui-corner-all ui-btn-icon-left ui-icon-info" data-rel="dialog" data-transition="pop">Information</a></p>
      <div class="container-b">
        <div class="inline-music">
          <button class="ui-btn ui-shadow ui-corner-all ui-btn-b ui-mini" onclick="playSound()">▷</button>
        </div>
        <div class="inline-music">
          <button class="ui-btn ui-shadow ui-corner-all ui-btn-b ui-mini" onclick="pauseSound()">||</button>
        </div>
        <div class="inline-music">
          <button class="ui-btn ui-shadow ui-corner-all ui-btn-b ui-mini" onclick="stopSound()">■</button>
        </div>
        <div>
          <p hidden id="audio_position"></p>
        </div>
      </div><!-- /content -->
    </div>
    <div data-role="footer" data-theme="a" role="contentinfo" class="ui-footer ui-bar-a">
      <!--<h4 class="ui-title" role="heading" aria-level="1">© 2019 scpepper.</h4>-->
      <script type="text/javascript">
        //nend Ads : footer ads 01
        var nend_params = {"media":62169,"site":326180,"spot":968836,"type":1,"oriented":3};
      </script>
      <div class="nend_wrapper"><script type="text/javascript" src="https://js1.nend.net/js/nendAdLoader.js"></script></div>
    </div><!-- /footer -->
  </div><!-- /page one -->

  <!-- Start of second page: #two -->
  <div data-role="page" id="two" data-theme="a" data-url="two">
    <div data-role="header">
      <a href="#one" data-direction="reverse" class="ui-btn ui-shadow ui-corner-all ui-btn-b ui-btn-icon-left ui-icon-home">Back</a>
      <h1>AI Robot Prediction</h1>
      <a href="#help" class="ui-btn ui-shadow ui-corner-all ui-btn-b ui-btn-icon-left ui-icon-alert" data-rel="dialog" data-transition="pop">Help</a>
    </div><!-- /header -->

    <div role="main" class="ui-content" style="background: url(img/background_shur_60.png);">
      <div style="position: relative;">
        <img id="myImage" src="img/eye_catch_005.jpg" class="inline-img" width="320" height="320">
        <div id="imgText" style="position:absolute; top:10px; left:10px; width: 320px;"></div>
        <div id="console" style="position:absolute; top:290px; left:10px; width: 320px;"><x2>Please load a photo.</x2></div>
      </div>
      <div class="container-b">
        <p><button id="take-button" class="ui-btn ui-btn-c ui-shadow ui-corner-all ui-btn-icon-left ui-icon-camera">Take Now !</button></p>
        <p><button id="select-button" class="ui-btn ui-shadow ui-corner-all ui-btn-icon-left ui-icon-search">Select Photo</button></p>
        <button id="predict-button" class="ui-btn ui-shadow ui-corner-all ui-btn-icon-left ui-icon-action">Execute Prediction</button>
      </div>
    </div><!-- /content -->
    <div data-role="footer">
      <!--<h4>© 2019 scpepper.</h4>-->
      <script type="text/javascript">
        //nend Ads : footer ads 02
        var nend_params = {"media":62169,"site":326180,"spot":968946,"type":1,"oriented":3};
      </script>
      <div class="nend_wrapper"><script type="text/javascript" src="https://js1.nend.net/js/nendAdLoader.js"></script></div>
    </div><!-- /footer -->
  </div><!-- /page two -->

  <!-- Start of third page: #popup -->
  <div data-role="page" id="popup" data-url="popup">
    <div data-role="header" data-theme="b">
      <h1>Information</h1>
    </div><!-- /header -->

    <div role="main" class="ui-content">
      <h3>About This Application</h3>
      <p>This application predicts what robot's face the photo data is based on the prediction model generated by the Deep Learning.</p>
      <p>This application was created by scpepper using a mobile application development framework monaca.</p>
      <p>If you have any comments, please contact me from my blog below.</p>
      <p><a href="https://www.scpepper.tokyo" target="_blank">Origin of Taste</a></p>
      <p><a href="#one" data-rel="back" class="ui-btn ui-shadow ui-corner-all ui-btn-inline ui-icon-back ui-btn-icon-left">Back
          to Top</a></p>
    </div><!-- /content -->

    <div data-role="footer">
      <h4>© 2019 scpepper.</h4>
    </div><!-- /footer -->
  </div><!-- /page popup -->

  <!-- Start of third page: #help -->
  <div data-role="page" id="help" data-url="help">
    <div data-role="header" data-theme="b">
      <h1>Help</h1>
    </div><!-- /header -->

    <div role="main" class="ui-content">
      <h3>How to Use</h3>
      <p>1. Take a photo or select a photo from the library in your device.</p>
      <p>2. While selecting or taking a photo, the AI model is loading.</p>
      <p>3. After selecting or taking a photo, please push "Execute Prediction".</p>
      <p>If you have any comments, please contact me from my blog below.</p>
      <p><a href="https://www.scpepper.tokyo" target="_blank">Origin of Taste</a></p>
      <p><a href="#two" data-rel="back" class="ui-btn ui-shadow ui-corner-all ui-btn-inline ui-icon-back ui-btn-icon-left">Back
          to Application</a></p>
    </div><!-- /content -->

    <div data-role="footer">
      <h4>© 2019 scpepper.</h4>
    </div><!-- /footer -->
  </div><!-- /page help -->

  <div class="ui-loader ui-corner-all ui-body-a ui-loader-default"><span class="ui-icon-loading"></span>
    <h1>loading</h1>
  </div>
  <div id="weava-permanent-marker" date="1538710288557"></div>
  <div id="feedly-mini" title="feedly Mini tookit"></div>
  <div id="weava-ui-wrapper">
    <div class="weava-drop-area-wrapper">
      <div class="weava-drop-area"></div>
      <div class="weava-drop-area-text"></div>
    </div>
  </div>

  <script>
    var media = null;
    var mediaTimer = null;
    var srcFile = "Sign.mp3";

    document.addEventListener("deviceready", onDeviceReady, false);
    function onDeviceReady() {
      console.log("ready");
      media = new Media (getPath() + srcFile , onSuccess, onError);
    }
    function getPath() {
      var str = location.pathname;
      var i = str.lastIndexOf('/');
      return str.substring(0,i+1);
    }
    function playSound(){
      // play the media file one time.
      media.play({numberOfLoops: 0});
      // start the timer
      if (mediaTimer == null) {
        mediaTimer = setInterval(function() {
        // Return a current playback position
          media.getCurrentPosition(
            //A Callback function if it's success
            function(position) {
              if (position > -1) {
                //If the playback stops at "-0.001" position, set the timer to 0.
                if(position == -0.001){
                  position = 0;
                }
                setAudioPosition((position) + " sec");
              }
            },
            //A callback function in case of failure
            function(error) {
              console.log("Error getting pos=" + error);
              setAudioPosition("Error: " + error);
            }
          );
        }, 1000);
      }
    }
    function pauseSound(){
      if (media) {
        media.pause();
      }
    }
    function stopSound(){
      if (media) {
        media.stop();
      }
    }
    function setAudioPosition(position) {
      document.getElementById('audio_position').innerHTML = position;
    }
    function onSuccess(){
      console.log("Successfully initialize a media file.");
    }
    function onError(error){
      console.log("Failed to initialize a media file. [ Error code: " + error.code + ", Error message: " + error.message + "]");
    }
    </script>

  <!-- <script src="js/tensorflow.min.js"></script> -->
  <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@1.2.3/dist/tf.min.js"></script>
  <script src="lib/jquery/jquery-1.12.4.min.js"></script>
  <script src="lib/jquery.mobile-1.4.5/jquery.mobile-1.4.5.min.js"></script>
  <script src="js/jquery.min.js"></script>
  <script src="js/predict.js"></script>

</body>
</html>
